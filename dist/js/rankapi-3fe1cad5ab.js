function uploadRank(){console.log("ready");var a="base64.php",n=Base64.encodeURI(userinfo.name);userinfo.id&&mark>userinfo.topscore&&uploadBase64Score(a,{openId:userinfo.id,name:n,imgURL:userinfo.imgurl,mark:mark,func:function(a){console.log(a)}})}function getallranks(){var a="fetch.php";uploadBase64Fetch(a,{openId:userinfo.id,func:function(a){var n=JSON.parse(a);console.log(n);var s="";$.each(n.dataList,function(a,n){if(console.log("my openid is "+n.Open_id),console.log("my Mark is "+n.Mark),console.log("my rank is "+n.rownum),s+='<li class="rank'+(a+1)+'">',s+='<span class="rank">'+n.rownum+"</span>",s+='<div class="pic">',s+='<img src="'+n.Img_url+'"  alt="">',s+="</div>",s+='<span class="name">'+Base64.decode(n.Name)+"</span>",s+='<span class="score">'+n.Mark+"m</span>",s+="</li>",n.Open_id==userinfo.id){userinfo.topscore=parseFloat(n.Mark);var o="";o+='<span class="rank">'+n.rownum+"</span>",o+='<div class="pic">',o+='<img src="'+n.Img_url+'"  alt="">',o+="</div>",o+='<span class="name">'+Base64.decode(n.Name)+"</span>",o+='<span class="score">'+n.Mark+"m</span>",$("#rankpanel").find(".myrank").html(o)}}),console.log(s),$("#ranklist").find("ol").html(s)}})}var userinfo={id:openId,name:nickName,topscore:0,imgurl:headImg};